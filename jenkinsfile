pipeline {
   agent any
   // agent { docker {image aws_trav_globes}}
   // triggers {
   //    pollSCM '* * * * *'
   // }
   stages{
      stage("verify tools") {
         steps{
            //git 'https://github.com/joeren2010/aws_trav_globes.git'
            sh 'docker --version'               
            sh 'docker info'
            sh 'docker-compose --version'
         }
      }   
      stage("start container") {
         steps{
            sh 'docker-compose up --wait'
            // sh 'docker-compose up -d --no-color --wait'
            sh 'docker-compose ps'
         }
      }
   }
   post {
      always{
         sh 'docker-compose down'
         // sh 'docker-compose down --remove-opphans -v'
         sh 'docker-compose ps'
      }
   }
}